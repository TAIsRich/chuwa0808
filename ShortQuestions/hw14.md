# 2. What is HTTP Session?

Session:
1. Keep in Server side
2. for each request, the client side will carry the session ID
3. Process:
- Client send request to the server
- server generate a session ID, saved in the database in server side and return to the client
- for each request, session ID跟database里面去verify这个request是不是valid to process
- log out – session destroy on server side (服务器的默认时间是30 mins)

# 3. What is Cookie?

Cookie:
1. Server产生
2. 保存在client side
3. 客户端后续请求都要携带cookie，供服务器识别身份
4. 过程：
- client第一次访问，generate cookie in “key : value” pair format
- server received the cookie, keep the cookie in local, will send the cookie to server for the later requests
- server received the request, verify the identity with key value pair information, and provide the service

# 4. What is the difference between Session and Cookie?

Cookie vs. Session:
1. Session更安全，所以重要信息会储存在session里面
2. session会在30 mins内存在服务器上，访问增多时，会占用内存资源
3. Session缺陷，low scalability。
- 如果有两个server端，第一次的请求发送到了A，session存在了A上， 等第二次往B端发送请求的时候，就无法识别

# 5. How do we use session and cookie to keep user information across the the application?


# 6. What is the spring security filter?

Spring Security maintains a filter chain internally where each of the filters has a particular responsibility and filters are added or removed from the configuration depending on which services are required. The ordering of the filters is important as there are dependencies between them.

# 8. What is UserDetailService? AuthenticationProvider?AuthenticationManager? AuthenticationFilter?

Auth Filter catch the request, and delegates the request to the Auth Manager.

The Auth Manager use Auth Provider to process authentication.

Auth Provider use UserDetailService to find a user by username.

### UserDetailService
UserDetailsService is always associated with a PasswordEncoder that encodes a supplied password and verifies if the password matches an existing encoding. When we replace the default implementation of the UserDetailsService, we must also specify a PasswordEncoder.

### AuthenticationProvider
Auth provider implements the authentication logic

Auth provider use Service to find the User by username, and validate the password using encoder

### AuthenticationManager
Auth responsibility is delegated to Auth Manager

### AuthenticationFilter
Intercept the requests


# 9. What is the disadvantage of Session?  how to overcome the disadvantage?

Low scalability.

Use JWT.

# 10. What is JWT?

JSON Web Token: encrypted and signed token with a private key in "key : value" pair

# 11. decribe how do JWT work

1. 用户名和密码登录
2. server验证身份，产生一个encrypted and signed token with a private key ( { username: “abcd”}, private key => token).
3. client side 储存这个token
4. for each request, the token will be placed in the http request, token decoded with same private key, and check 是不是valid to process
5. log out – token destroyed on client side, no interaction with server

# 12. how to get value from application.properties?

1. The @Value annotation:

@Value("${<property.name>}")

private static final <datatype> PROPERTY_NAME;

2. The @PropertySource annotation:

@PropertySource("classpath:application.properties")

//env is an Environment variable
env.getProperty(configKey);

3. The @ConfigurationProperties annotation:

@ConfigurationProperties(prefix = "user")
  @Configuration("UserData")
  class user {
    //Property & their getter / setter
  }

  @Autowired
  private UserData userData;

  userData.getPropertyName();


# 13. What is the role of configure(HttpSecurity http) and configure(AuthenticationManagerBuilder auth)?

1. HttpSecurity http:
It allows configuring web based security for specific http requests. By default it will be applied to all requests, but can be restricted using requestMatcher(RequestMatcher) or other similar methods.


2. AuthenticationManagerBuilder auth:
To authenticate and authorize users

# 14. What is Spring security authentication and authorization?

Authentication: verity identity --> 登录，看你注册过没有，注册过的话你当前用户名和密码是否匹配

1. Knowledge based authentication:
- password
- pincode
- answer for personal question
- not safe

2. Possession based authentication:
- phone/text
- key cards and badges
- access token device


Authorization: if the user is valid to do the current request --> 看是不是VIP,是的话可以访问VIP资源。看你有没有权限访问某一部分资源。


