1.What is HTTP Session?

HTTP sessions is an industry standard feature that allows Web servers to maintain user identity and to store user-specific data during multiple request/response interactions between a client application and a Web application

Web 应用程序之间的多次请求/响应交互期间 维护用户身份并存储数据

2.What is Cookie?

Cookies are text files with small pieces of data — like a username and password — that are used to identify your computer as you use a computer network. Specific cookies known as HTTP cookies are used to identify specific users and improve your web browsing experience.

Cookie 是包含少量数据（如用户名和密码）的文本文件，用于在您使用计算机网络时识别您的计算机。 称为 HTTP cookie 的特定 cookie 用于识别特定用户并改善您的网络浏览体验。
3.What is the difference between Session and Cookie?

1.存储位置不同
cookie 存放在客户端电脑，是一个磁盘文件。Ie 浏览器是可以从文件夹中找到。
session 是存放在服务器内存中的一个对象。 chrome 浏览器进行安全处理，只能通过浏
览器找到。Session 是服务器端会话管理技术，并且 session 就是 cookie 实现的。

2.存储容量不同
单个 cookie 保存的数据<=4KB，一个站点最多保存 20 个 Cookie。
对于 session 来说并没有上限，但出于对服务器端的性能考虑，session 内不要存放过多的
东 西，并且设置 session 删除机制。

3.存储方式不同
cookie 中只能保管 ASCII 字符串，并需要通过编码方式存储为 Unicode 字符或者二进制数
据。
session 中能够存储任何类型的数据，包括且不限于 string，integer，list，map 等。

4.隐私策略不同
cookie 对客户端是可见的，别有用心的人可以分析存放在本地的 cookie 并进行 cookie 欺
骗，所以它是不安全的。
session 存储在服务器上，不存在敏感信息泄漏的风险。

5. 有效期上不同
开发可以通过设置 cookie 的属性，达到使 cookie 长期有效的效果。
session 依赖于名为 JSESSIONID 的 cookie，而 cookie JSESSIONID 的过期时间默认为-1，
只需关闭窗口该 session 就会失效，因而 session 不能达到长期有效的效果。

6.服务器压力不同
cookie 保管在客户端，不占用服务器资源。对于并发用户十分多的网站，cookie 是很好的
选择。
session 是保管在服务器端的，每个用户都会产生一个 session。假如并发访问的用户十分
多，会产生十分多的 session，耗费大量的内存

4.How do we use sessions and cookies to keep user information across the application?

用户登录成功后保存用户登陆的用户名到 Cookie 和 session，同时设置 Cookie 的有效时间，在下次用户想免输入登陆时，直接判断 Cookie 中的用户名和 session 中的是否一致，如果一致则直接登陆不需要输入，否则需要重新输入用户名和密码

5.What is the spring security filter?
A security filter describes a set of records in a table that a user has permission to access.

当一个请求HttpServletRequest进入SecurityFilterChain时，会通过matches方法来确定是否满足条件进入过滤器链。

例：
                .antMatchers("/api/v1/auth/**").permitAll()
                .and()
                .authorizeRequests()
                .antMatchers(HttpMethod.POST,"/api/v1/**").hasRole("ADMIN")


6.Do you use any Encoder to encode Passwords?
spring security : 使用过BCryptPasswordEncoder
Salting Hashing SCryptPasswordEncoder(spring security)

7.What is UserDetailService?AuthenticationProvider?AuthenticationManager?
AuthenticationFilter?(把这几个名字看熟悉也行)

UserDetailService: UserDetailsService 接口用于检索与用户相关的数据。

AuthenticationProvider: 它利用 UserDetailsService 和 PasswordEncoder 来验证用户名和密码。 

AuthenticationManager: 认证的主要策略接口。 如果输入身份验证的主体有效且经过验证，则 AuthenticationManager #authenticate 返回一个 Authentication 实例，并将身份验证标志设置为 true

AuthenticationFilter: 对特定请求执行身份验证的过滤器。 逻辑概述： 一个请求进来，如果它不匹配 setRequestMatcher(RequestMatcher) ，那么这个过滤器什么也不做，继续过滤链。

8.What is the disadvantage of Session? how to overcome the disadvantage?
缺点： 1. 由于会话数据存储在服务器内存中，因此在大量用户的情况下会产生性能开销。 2. 序列化和反序列化会话数据涉及的开销，因为在 StateServer 和 SQLServer 会话模式的情况下，我们需要在存储之前序列化对象

9.What is JWT?

JSON Web token 简称 JWT， 是用于对应用程序上的用户进行身份验证的标记。也
就是说, 使用 JWTS 的应用程序不再需要保存有关其用户的 cookie 或其他 session 数
据。

header playload  signature

10.describe how do JWT work(slides里有图，26页)



在身份验证过程中, 当用户使用其凭据成功登录时, 将返回 JSON Web token, 并且
必须在本地保存 (通常在本地存储中)。

每当用户要访问受保护的路由或资源 (端点) 时, 用户代理(user agent)必须连同请求
一起发送 JWT, 通常在授权标头中使用 Bearer schema。后端服务器接收到带有 JWT 的
请求时, 首先要做的是验证 token。

11.how to get value from application.properties?
app.jwt-secret= JWTSecretKey
app.jwt-expiration-milliseconds = 604800000

@Component
public class JwtTokenProvider {
    @Value("${app.jwt-secret}")
    private String jwtSecret;
    @Value("${app.jwt-expiration-milliseconds}")
    private int jwtExpirationInMs;
    /**

use @value and ($)


12.What is the role of configure(HttpSecurity http) and configure (AuthenticationManagerBuilder auth)?

configure(final HttpSecurity http) 方法会覆盖默认的 HttpBuilder 配置。 因为它是空的，所以它离开应用程序没有授权或身份验证


   @Overrid




 protected void configure(HttpSecurity http) throws Exception {


       http


               .csrf().disable()


               .exceptionHandling()


               .authenticationEntryPoint(authenticationEntryPoint)


               .and()


               .sessionManagement()


               .sessionCreationPolicy(SessionCreationPolicy.STATELESS)


               .and()


               .authorizeRequests()


               .antMatchers("/api/v1/auth/**").permitAll()


               .and()


               .authorizeRequests()


               .antMatchers(HttpMethod.POST,"/api/v1/**").hasRole("ADMIN")


               .anyRequest()


               .authenticated();







       http.addFilterBefore(jwtAuthenticationFilter(), UsernamePasswordAuthenticationFilter.class);


   }



允许提供父 AuthenticationManager，如果此 AuthenticationManager 无法尝试对提供的 Authentication 进行身份验证，则将尝试该父 AuthenticationManager。


   @Override




   protected void configure(AuthenticationManagerBuilder auth) throws Exception {


       auth.userDetailsService(userDetailsService).passwordEncoder(passwordEncoder());


   }

13.What is Spring security authentication and authorization?

身份验证和授权是管理员用来保护系统和信息的两个重要信息安全过程。 

authentication 验证用户或服务的身份(account password)

authorization确定他们的访问权限(api)

14.Reading,泛读一下即可，自己觉得是重点的，可以多看两眼。https://www.interviewbit.com/spring-security-interview-questions/#is-security-a-cross-cutting-concern
a.1-12
b.17 - 30
